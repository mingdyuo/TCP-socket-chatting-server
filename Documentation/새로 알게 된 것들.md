- enum은 변수가 아님. 그냥 #define 보다는 조금 더 type에 대해 안전한 형태임. 

### listen socket의 backlog

커널은 listen 소켓에 대해 2가지 종류의 큐를 가지고 있다.

1. 불완전 연결 큐

   3악수 맺으려고 보낸 패킷을 저장하는 큐임. `SYN_RCVD` 상태임

2. 완전 연결 큐

   3악수 맺어진 클라의 패킷(소켓?)을 저장하는 큐임. `ESTABLISHED` 상태임

   `accept`되면 이 큐에 있는 맨 앞의 놈이 빠져나감

`backlog`가 뭐냐면 이 두 개의 큐에 있는 놈들의 합을 얼마까지 허용할 것인지 지정하는 것이다. 그래서 backlog만큼 큐에 애들이 꽉차면, 연결 요청이 들어와도 거절한다.

이 `backlog`값은 `SYN flooding` 공격과 관계가 있는데, 두 가지 방법으로 해결할 수 있다.

1. 큐를 늘리기
2. 소켓이 불완전 큐에 남아있는 timeout 시간을 줄이기

[출처](https://m.blog.naver.com/PostView.nhn?blogId=s2kiess&logNo=220156878532&proxyReferer=https:%2F%2Fwww.google.com%2F)



